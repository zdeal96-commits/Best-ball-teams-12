<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Golf Tools Hub</title>
  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1b30;
      --panel2:#0c172a;
      --text:#e8eefc;
      --muted:#a9b6d3;
      --border:rgba(255,255,255,.10);
      --accent:#22c55e;   /* green */
      --accent2:#f59e0b;  /* gold */
      --danger:#ef4444;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 16px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 10% 0%, rgba(34,197,94,.18), transparent 55%),
                  radial-gradient(900px 500px at 90% 10%, rgba(245,158,11,.14), transparent 55%),
                  var(--bg);
      color:var(--text);
    }

    .wrap{
      display:grid;
      grid-template-columns: 360px 1fr;
      min-height:100vh;
    }

    .sidebar{
      padding:20px;
      border-right:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.03), transparent 30%),
                  var(--panel2);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px 14px;
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
    }
    .badge{
      width:38px;height:38px;border-radius:12px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      display:grid;place-items:center;
      color:#04110a;
      font-weight:800;
    }
    .brand h1{
      font-size:16px;
      margin:0;
      line-height:1.1;
    }
    .brand p{
      margin:2px 0 0;
      font-size:12px;
      color:var(--muted);
    }

    .tools{
      margin-top:16px;
      display:grid;
      gap:10px;
    }

    .card{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.03);
      padding:14px;
      cursor:pointer;
      transition: transform .08s ease, border-color .08s ease, background .08s ease;
    }
    .card:hover{
      transform: translateY(-1px);
      border-color: rgba(34,197,94,.35);
      background: rgba(255,255,255,.05);
    }
    .card.active{
      border-color: rgba(34,197,94,.65);
      background: linear-gradient(135deg, rgba(34,197,94,.10), rgba(245,158,11,.07));
    }
    .card .title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      font-weight:700;
      margin:0 0 4px 0;
      font-size:14px;
    }
    .pill{
      font-size:11px;
      color:var(--muted);
      border:1px solid var(--border);
      padding:3px 8px;
      border-radius:999px;
      background: rgba(0,0,0,.18);
      white-space:nowrap;
    }
    .card .desc{
      margin:0;
      font-size:12.5px;
      color:var(--muted);
      line-height:1.35;
    }

    .actions{
      margin-top:16px;
      padding:14px;
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.03);
    }
    .actions h2{
      margin:0 0 10px 0;
      font-size:13px;
      color:var(--muted);
      font-weight:650;
    }
    .btnrow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    button{
      appearance:none;
      border:1px solid var(--border);
      background: rgba(0,0,0,.22);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      font-weight:650;
      cursor:pointer;
      transition: border-color .08s ease, transform .08s ease, background .08s ease;
    }
    button:hover{
      transform: translateY(-1px);
      border-color: rgba(245,158,11,.45);
      background: rgba(0,0,0,.28);
    }
    button.danger:hover{
      border-color: rgba(239,68,68,.55);
    }

    .main{
      padding:20px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
    }
    .topbar .now{
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .topbar .now .label{
      color:var(--muted);
      font-size:12px;
    }
    .topbar .now .name{
      font-weight:800;
      letter-spacing:.2px;
    }
    .topbar .hint{
      color:var(--muted);
      font-size:12px;
      text-align:right;
      line-height:1.2;
    }

    .framewrap{
      flex:1;
      border-radius: var(--radius);
      border:1px solid var(--border);
      overflow:hidden;
      background: rgba(0,0,0,.25);
      box-shadow: var(--shadow);
      min-height: 70vh;
    }
    iframe{
      width:100%;
      height:100%;
      border:0;
      background:#ffffff;
    }

    .footerNote{
      color:var(--muted);
      font-size:12px;
      padding:2px 2px 0 2px;
    }

    @media (max-width: 980px){
      .wrap{ grid-template-columns: 1fr; }
      .sidebar{ border-right:0; border-bottom:1px solid var(--border); }
      .btnrow{ grid-template-columns: 1fr; }
      .framewrap{ min-height: 70vh; }
      .topbar{ flex-direction:column; align-items:flex-start; }
      .topbar .hint{ text-align:left; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <aside class="sidebar">
      <div class="brand">
        <div class="badge">⛳</div>
        <div>
          <h1>Golf Tools Hub</h1>
          <p>Pick a tool. It loads instantly.</p>
        </div>
      </div>

      <div class="tools" id="toolCards"></div>

      <div class="actions">
        <h2>Quick actions</h2>
        <div class="btnrow">
          <button id="btnOpen" title="Open the current tool in a new tab">Open Full Screen</button>
          <button id="btnReload" title="Reload the current tool">Reload Tool</button>
          <button class="danger" id="btnClear" title="Clears the hub memory (last tool)">Clear Hub Memory</button>
          <button id="btnHome" title="Go back to the hub (this page)">Hub Home</button>
        </div>
      </div>
    </aside>

    <main class="main">
      <div class="topbar">
        <div class="now">
          <div class="label">Current tool</div>
          <div class="name" id="currentName">Select a tool</div>
        </div>
        <div class="hint">
          Tip: If a tool needs to be updated, just replace its folder’s <b>index.html</b>.
        </div>
      </div>

      <div class="framewrap">
        <iframe id="toolFrame" title="Golf tool"></iframe>
      </div>

      <div class="footerNote">
        If a tool uses files like CSS/JS/images, keep them inside that tool’s folder and use relative paths (no leading “/”).
      </div>
    </main>
  </div>

  <script>
    // Add/remove tools here
    const TOOLS = [
      {
        id: "best-ball-teams",
        name: "Best Ball Teams",
        desc: "Your original best-ball team builder.",
        path: "apps/best-ball-teams/index.html" // if yours is "Index.html", change this to ".../Index.html"
      },
      {
        id: "wolf-game",
        name: "Wolf Game",
        desc: "Wolf + dots tracker version.",
        path: "apps/wolf-game/index.html"
      },
      {
        id: "best-ball-teams-12",
        name: "Best Ball Teams (v12)",
        desc: "The 12-player flavor / alternate version.",
        path: "apps/best-ball-teams-12/index.html"
      }
    ];

    const $cards = document.getElementById("toolCards");
    const $frame = document.getElementById("toolFrame");
    const $currentName = document.getElementById("currentName");

    const KEY = "golfToolsHub:lastTool";

    function setActive(toolId, pushHash=true){
      const tool = TOOLS.find(t => t.id === toolId) || TOOLS[0];

      // UI
      [...$cards.querySelectorAll(".card")].forEach(c => c.classList.toggle("active", c.dataset.id === tool.id));
      $currentName.textContent = tool.name;

      // Load tool
      $frame.src = tool.path;

      // Persist
      localStorage.setItem(KEY, tool.id);

      // Hash for shareable links
      if (pushHash) location.hash = tool.id;
    }

    function buildCards(){
      $cards.innerHTML = "";
      TOOLS.forEach(t => {
        const div = document.createElement("div");
        div.className = "card";
        div.dataset.id = t.id;
        div.innerHTML = `
          <div class="title">
            <span>${t.name}</span>
            <span class="pill">${t.id}</span>
          </div>
          <p class="desc">${t.desc}</p>
        `;
        div.addEventListener("click", () => setActive(t.id));
        $cards.appendChild(div);
      });
    }

    // Buttons
    document.getElementById("btnReload").addEventListener("click", () => {
      // Force reload the iframe
      const src = $frame.src;
      $frame.src = "about:blank";
      setTimeout(() => { $frame.src = src; }, 50);
    });

    document.getElementById("btnOpen").addEventListener("click", () => {
      if (!$frame.src) return;
      window.open($frame.getAttribute("src"), "_blank", "noopener");
    });

    document.getElementById("btnClear").addEventListener("click", () => {
      localStorage.removeItem(KEY);
      location.hash = "";
      $currentName.textContent = "Select a tool";
      [...$cards.querySelectorAll(".card")].forEach(c => c.classList.remove("active"));
      $frame.src = "about:blank";
    });

    document.getElementById("btnHome").addEventListener("click", () => {
      location.hash = "";
      const last = localStorage.getItem(KEY);
      if (last) setActive(last, false);
      else {
        $currentName.textContent = "Select a tool";
        $frame.src = "about:blank";
      }
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Init
    buildCards();

    // Prefer hash > localStorage > first tool
    const fromHash = (location.hash || "").replace("#","").trim();
    const fromStorage = localStorage.getItem(KEY);

    if (fromHash && TOOLS.some(t => t.id === fromHash)) setActive(fromHash, false);
    else if (fromStorage && TOOLS.some(t => t.id === fromStorage)) setActive(fromStorage, false);
    else setActive(TOOLS[0].id, false);

    // If user changes hash manually
    window.addEventListener("hashchange", () => {
      const id = (location.hash || "").replace("#","").trim();
      if (id && TOOLS.some(t => t.id === id)) setActive(id, false);
    });
  </script>
</body>
</html>
